# JUC

## 一、进程与线程

### 1.1 简介

-   进程：进程可以视为程序的一个实例。大部分程序可以同时运行多个实例进程，也有的程序只能启动一个实例进程
-   线程：一个进程内可以分为一到多个线程
    -   一个线程就是一个指令流，将指令流中的一条条指令以一定的顺序交给cpu执行
    -   Java中，线程作为最小的调度单位，进程作为资源分配的最小单位

-   二者对比
    -   进程基本上是互相独立的，而线程存在于进程内，是进程的一个子集
    -   进程拥有共享的资源，如内存空间等，供其内部的线程共享
    -   进程间通信较为复杂
        -   同一台计算机进程通信称为IPC
        -   不同计算机之间的进程通信，需要通过网络，并遵守共同的协议，例如HTTP
    -   线程通信相对简单，因为它们共享进程内的内存
    -   线程更轻量，线程上下文切换成本一般上要比进程上下文切换低



### 1.2 并行与并发

![image-20211123190015152](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211123190015152.png)

-   单核cpu线程还是串行执行的
-   操作系统中有一个组件叫做任务调度器，将cpu的时间片分给不同的线程使用
-   微观串行，宏观并行

![image-20211123190333950](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211123190333950.png)

-   并行，多核cpu



-   并发，在某一时间段
-   并行，在同一时刻



### 1.3 同步和异步

-   从方法的角度来讲：
    -   若需要等待结果的返回，才能继续运行的就是同步
    -   若不需要等待结果的返回，就能继续运行的就是异步
-   同步在多线程中还有另外一层意思就是让多个线程步调一致