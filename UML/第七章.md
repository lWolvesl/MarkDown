# 第七章 用例图

- 如何表示一个用例模型
- 如何可视化用例之间的关系
- 如何创建和应用用例模型

## 7.1 用例模型的表示法

![image-20211004081728178](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004081728178.png)

- **参与者、用例和互连线**共同组成了用例模型
- 参与者是系统的**外部实体**，用例属于系统**内部实体**
- 系统的**边界**，用矩形表示
- 用例用**椭圆**表示

### 7.1.1 回顾饮料销售机

![image-20211004082006647](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004082006647.png)

### 7.1.2 跟踪场景中的步骤

- <font color="red">用例</font>是场景的集合，<font color="red">场景</font>由<font color="red">步骤</font>序列构成
- 每个用例，需要<font color="red">文档</font>描述其场景。包括以下内容
  - 发起用力的参与者
  - 场景中的步骤
  - 用例的假设条件
  - 场景完成后的后置条件
  - 用例中的前置条件
  - 从用例中获益的参与者

## 7.2 用例之间关系的可视化表示

- 关联
  - 包含
  - 扩展
- 关系
  - 泛化
  - 分组

### 7.2.1 包含

![71633307179_.pic_hd](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/71633307179_.pic_hd.jpg)

- Restock用例包含两个用例
  - Unexpose the inside
  - Expose the inside

- 包含关系的可视化
  - 依赖线：带箭头的虚线
  - <font color="red"><\<include\>></font>关键字

### 7.2.2 扩展

- 基用例
  - 被扩展的用例
- 扩展点
  - 基用例的某个具体制定点上

![81633307571_.pic](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/81633307571_.pic.jpg)

- 扩展关系的可视化
  - 依赖线
  - <font color="red"><\<entend>></font>关键字
- 扩展点
  - 标识在基用例中
- 依赖关系点箭头不是指示一个过程点方向，而是指示关系的方向

### 7.2.3 泛化

- **子用例**可以从**父用例**
  - 继承**行为**&**含义**
  - **增加**自己的行为
- 父用例出现的地方，子用例也可以出现

![101633308033_.pic_hd](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/101633308033_.pic_hd.jpg)

- **参与者**之间也存在泛化关系

![111633308101_.pic_hd](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/111633308101_.pic_hd.jpg)

### 7.2.4 分组

- 为什么进行分组
  - 用例的数目很多时，需要组织用例
  - 进行系统分析时，每个需求用单独的用例表示
- 分组的方法
  - 把相关的用例，放在一个包汇总组织起来

- 类似于包图

## 7.3 用例在分析过程中的作用

![image-20211004084532238](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004084532238.png)

## 7.4 运用用例模型：举例

- eg：为咨询公司设计本地局域网

![image-20211004084842098](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004084842098.png)

### 7.4.1 理解领域

- 类图包括：
  - 顾问
  - 客户
  - 项目
  - 提案
  - 数据
  - 报告

![image-20211004084941764](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004084941764.png)

### 7.4.2 理解用户

- 方法：建立用户之间的泛化模型

![image-20211004085309268](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004085309268.png)

- 在实际的系统分析中，<font color="blue">没有什么事情能够代替实际的人与人面谈</font>。

### 7.4.3 理解用例

- 目标：建立高层用例图

![image-20211004085606636](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004085606636.png)

- <font color=blue>高层用例图构成了局域网系统的功能需求</font>。

### 7.4.4 进一步深入

- 目标：
  - 分析高层用例图，建议用例模型
  - 发现其他用例

![image-20211004085747508](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004085747508.png)

- 强调：<font color="red">用例分析只是对系统行为的描述，并不涉及系统的实施</font>。

## 7.5 “清查库存”

- 第二章-第七章，先后学习了下列UML元素：
  - 类；
  - 接口；
  - 对象；
  - 用例；
  - 参与者；
  - 泛化；
  - 依赖；
  - 实现；
  - 聚集；
  - 组成；
  - 构造型；
  - 约束；
  - 注释；
  - 包；
  - 扩展；
  - 包含；
- UML的两个元素：
  - 面向对象
  - 用例分析

### 7.5.1 结构元素

- 五种：
  - 类
  - 对象
  - 接口
  - 参与者
  - 用例

### 7.5.2 关系

- 六种
  - 关联
  - 泛化
  - 依赖
  - 聚集
  - 组成
  - 实现

### 7.5.3 分组

- **包**：唯一的分组元素，它允许你将一个模型中的结构元素组织起来。

### 7.5.4 解释元素

- **注释**
- **约束、注释、需求和用来解释说明的图形**都可以作为注释被附加到模型当中

### 7.5.5 扩展

- **构造型**和**约束**上UML语言提供扩展机制的两个组件。他们允许根据已有元素来创建新的元素，以便更精确地对现实世界建立模型

### 7.5.6 其他

- **行为元素**：下一章学习
  - 表达模型的某个部分如何随时间经历变化

## 7.6 UML“大图”

![image-20211004091012578](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/image-20211004091012578.png)

![121633309848_.pic_hd](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/121633309848_.pic_hd.jpg)