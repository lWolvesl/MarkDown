# 第六章 **介绍用例**

## 6.1 什么是用例

* 类的**静态视图**
  * 有助于analyst和client交流

* 类的**动态视图**
  * 有助于analyst和programmer交流

* **静态视图**&**动态视图**的**缺点**
  - 都不能从user的观点说明系统所具有的行为

| 1、理解用户的观点对建立可用的、有用的系统是十分关键的 |
| ----------------------------------------------------- |

| 2、用例的作用：从用户的观点出发对系统建立模型 |
| --------------------------------------------- |

- **用例分析**
  * 从用户的角度，考虑如何使用系统、以及满足其应用需求
  * 用户对系统的使用方式，决定了系统如何设计和构造

- **用例**
  - 能够帮助分析员和用户确定使用情况的UML组建
  - 一组用例：从用户的角度出发对如何使用系统的描述

| 1、用例是系统的一组使用场景，每个场景描述了一个事件的序列 |
| --------------------------------------------------------- |

| 2、每个事件由一个人、另一个系统、一台硬件设备等发起 |
| --------------------------------------------------- |

| 3、参与者(actor)：发起事件序列的实体 |
| ------------------------------------ |

## 6.2 **用例的重要性**

- **类图**
  - 帮助**客户**以自己的观点考察系统
- **用例**
  - 是**用户**以自己的观点观察问题
- 传统系统开发存在的**问题**
  - 缺少前端分析，用户不知道如何执行系统输入
  - 解决方法：**让用户参与前期的系统分析&设计**

## 6.3 **举例：饮料销售机**

![621632900536_.pic_hd](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/621632900536_.pic_hd.jpg)

* <font color="blue">用例说明了对外部参与者有意义的任务场景</font>
* <font color="red">前置条件</font>：本用例执行的前提
* <font color="red">后置条件</font>：执行后的结果

### 6.3.1 用例：**买饮料**

#### （1）*从顾客的观点*

* **3 个场景**
  * <font color="blue">场景1</font>：**正常买饮料**
  * <font color="blue">场景2</font>：**没有所需的饮料**
  * <font color="blue">场景3</font>：**付款数不正确**

##### **场景1:正常买饮料**

>- **前置**条件有哪些？
>   - 顾客感到口渴
>- **后置条件**有哪些？
>   - 顾客获取一罐饮料

##### **场景2:没有所需的饮料**

>- **前置条件**
>  - 顾客感到口渴
>  - 顾客向销售机投钱
>- **后置条件**
>  - 顾客得到另一罐饮料
>  - 顾客投入的钱被退回

##### **场景3:付款数不正确**

> - **前置条件**
>   - 顾客感到口渴
>   - 顾客向销售机投钱
> - **后置条件**
>   - 顾客得到一罐饮料&找回零钱
>   - 按原款归还钱

#### （2）*从供货人的观点*

##### **场景:供货人对销售机供货**

> * **前置条件**
>   - 一个时间间隔的流逝
>
> * **后置条件**
>   - 供货人在机器放置了新的待售饮料

#### (3) **从收款人的观点**

##### **场景：收款人从销售机“取钱”**

> - **前置条件**
>   - 事件间隔流逝
> - **后置条件**
>   - 收款人收到了钱

## 6.4 **包含用例**

- 上述饮料销售机包含共同步骤
  - **共同起始点**：打开机器
  - **共同终止点**：关闭和锁好机器

* 如何**简化**：
  - 从各个步骤汇总抽取出公共步骤，形成附加用例
  - 附加用例供每个用例使用
* eg：
  - 打开销售机用例：包含两个步骤—**开机、拉出饮料架**
  - 关闭销售机用例：包含两个步骤—**放回架子、锁机器**



![731632998634_.pic](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/731632998634_.pic.jpg)

* 包含用例步骤：
  - 1、用例复用技术
  - 2、设置公共用例
  - 3、供其他用例使用

## 6.5 **扩展用例**

- 含义：**对已有用例增加额外步骤，建立新的用例**
- eg：

![751632999024_.pic](https://typroa-wolves.oss-cn-hangzhou.aliyuncs.com/img-li/751632999024_.pic.jpg)

## 6.6 **开始用例分析**

- （1）**和客户/专家交谈，得出系统的初步类图**
  - 获取对系统的初步认识

- （2）**得到候选用例**
  - 询问用户准备如何使用系统
- （3）**描述候选用例**
  - 导出参与者列表，他们发起了候选用例或者从用例中获益、从候选用例中获利
- （4）**发现新的用例**
  - 有助于设计系统的用户界面，帮助开发者做出编程中的决策

- <font color="blue">**用例是对系统测试的基础**</font>

